!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){a(2),e.exports=a(1)},function(e,t,a){},function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.createElement("div");t.className="wrapper";var a=document.createElement("div");a.className="content",t.appendChild(a);var n=document.createElement("div");n.classList="description",n.innerHTML="Переключение раскладки клавиатуры ctrl+shift, клавиатура создавалась в Windows",t.appendChild(n);var r=document.createElement("form");r.action="#",r.className="form",a.appendChild(r);var s=document.createElement("label");s.htmlFor="area",s.innerHTML="Type text here:",r.appendChild(s);var i=document.createElement("textarea");i.id="textarea",r.appendChild(i);var u=document.createElement("div");u.className="keyboard",u.setAttribute("id","keyboard"),a.append(u),i.focus(),this.wrapper=t}var t,a,r;return t=e,(a=[{key:"render",value:function(){document.body.append(this.wrapper)}}])&&n(t.prototype,a),r&&n(t,r),e}(),s={ru:[["Backquote","usual",["ё","Ё"]],["Digit1","usual",["1","!"]],["Digit2","usual",["2",'"']],["Digit3","usual",["3","№"]],["Digit4","usual",["4",";"]],["Digit5","usual",["5","%"]],["Digit6","usual",["6",":"]],["Digit7","usual",["7","?"]],["Digit8","usual",["8","*"]],["Digit9","usual",["9","("]],["Digit0","usual",["0",")"]],["Minus","usual",["-","_"]],["Equal","usual",["=","+"]],["Backspace","special","Backspace"],["Tab","special","Tab"],["KeyQ","usual",["й","Й"]],["KeyW","usual",["ц","Ц"]],["KeyE","usual",["у","У"]],["KeyR","usual",["к","К"]],["KeyT","usual",["е","Е"]],["KeyY","usual",["н","Н"]],["KeyU","usual",["г","Г"]],["KeyI","usual",["ш","Ш"]],["KeyO","usual",["щ","Щ"]],["KeyP","usual",["з","З"]],["BracketLeft","usual",["х","Х"]],["BracketRight","usual",["ъ","Ъ"]],["Backslash","usual",["\\","/"]],["Delete","special","Del"],["CapsLock","special","Caps lock"],["KeyA","usual",["ф","Ф"]],["KeyS","usual",["ы","Ы"]],["KeyD","usual",["в","В"]],["KeyF","usual",["а","А"]],["KeyG","usual",["п","П"]],["KeyH","usual",["р","Р"]],["KeyJ","usual",["о","О"]],["KeyK","usual",["л","Л"]],["KeyL","usual",["д","Д"]],["Semicolon","usual",["ж","Ж"]],["Quote","usual",["э","Э"]],["Enter","special","Enter"],["ShiftLeft","special","Shift"],["KeyZ","usual",["я","Я"]],["KeyX","usual",["ч","Ч"]],["KeyC","usual",["с","С"]],["KeyV","usual",["м","М"]],["KeyB","usual",["и","И"]],["KeyN","usual",["т","Т"]],["KeyM","usual",["ь","Ь"]],["Comma","usual",["б","Б"]],["Period","usual",["ю","Ю"]],["Slash","usual",[".",", "]],["ShiftRight","special","Shift"],["ControlLeft","special","Ctrl"],["MetaLeft","special","Win"],["AltLeft","special","Alt"],["Space","special"," "],["AltRight","special","Alt"],["ControlRight","special","Ctrl"]],en:[["Backquote","usual",["`","~"]],["Digit1","usual",["1","!"]],["Digit2","usual",["2","@"]],["Digit3","usual",["3","#"]],["Digit4","usual",["4","$"]],["Digit5","usual",["5","%"]],["Digit6","usual",["6","^"]],["Digit7","usual",["7","&"]],["Digit8","usual",["8","*"]],["Digit9","usual",["9","("]],["Digit0","usual",["0",")"]],["Minus","usual",["-","_"]],["Equal","usual",["=","+"]],["Backspace","special","Backspace"],["Tab","special","Tab"],["KeyQ","usual",["q","Q"]],["KeyW","usual",["w","W"]],["KeyE","usual",["e","E"]],["KeyR","usual",["r","R"]],["KeyT","usual",["t","T"]],["KeyY","usual",["y","Y"]],["KeyU","usual",["u","U"]],["KeyI","usual",["i","I"]],["KeyO","usual",["o","O"]],["KeyP","usual",["p","P"]],["BracketLeft","usual",["[","{"]],["BracketRight","usual",["]","}"]],["Backslash","usual",["\\","|"]],["Delete","special","Del"],["CapsLock","special","Caps lock"],["KeyA","usual",["a","A"]],["KeyS","usual",["s","S"]],["KeyD","usual",["d","D"]],["KeyF","usual",["f","F"]],["KeyG","usual",["g","G"]],["KeyH","usual",["h","H"]],["KeyJ","usual",["j","J"]],["KeyK","usual",["k","K"]],["KeyL","usual",["l","L"]],["Semicolon","usual",[";",":"]],["Quote","usual",["'",'"']],["Enter","special","Enter"],["ShiftLeft","special","Shift"],["KeyZ","usual",["z","Z"]],["KeyX","usual",["x","X"]],["KeyC","usual",["c","C"]],["KeyV","usual",["v","V"]],["KeyB","usual",["b","B"]],["KeyN","usual",["n","N"]],["KeyM","usual",["m","M"]],["Comma","usual",[", ","<"]],["Period","usual",[".",">"]],["Slash","usual",["/","?"]],["ShiftRight","special","Shift"],["ControlLeft","special","Ctrl"],["MetaLeft","special","Win"],["AltLeft","special","Alt"],["Space","special"," "],["AltRight","special","Alt"],["ControlRight","special","Ctrl"]]};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,s=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text="",this.buttonsArray=[],this.toChangeKeyboard=!1,this.specialKeys={ShiftLeft:!1,ShiftRight:!1,CapsLock:!1,ControlLeft:!1,AltLeft:!1,ControlRight:!1,AltRight:!1,MetaLeft:!1},this.getKeys(this.getLang()),this.textarea=document.querySelector("textarea")}var t,a,n;return t=e,(a=[{key:"getLang",value:function(){return null===localStorage.getItem("lang")&&localStorage.setItem("lang","en"),this.lang=localStorage.getItem("lang"),localStorage.getItem("lang")}},{key:"changeLang",value:function(){"ru"===localStorage.getItem("lang")?localStorage.setItem("lang","en"):localStorage.setItem("lang","ru"),this.getKeys(this.getLang())}},{key:"getKeys",value:function(e){this.buttonsArray="ru"===e?s.ru:s.en}},{key:"getArrowButton",value:function(e){this.button=document.createElement("div");var t=i(e,3),a=t[0],n=t[1],r=t[2];return this.button.className="keyboard_btn keyboard_btn_".concat(a," ").concat(n),this.button.setAttribute("id",a),this.button.innerHTML=r,this.button}},{key:"switchKeyboard",value:function(){for(var e,t,a,n=document.getElementsByClassName("keyboard")[0],r=0;r<this.buttonsArray.length;r+=1){(e=document.createElement("div")).className="keyboard_btn keyboard_btn_".concat(this.buttonsArray[r][0]," ").concat(this.buttonsArray[r][1]," en"),e.setAttribute("id",this.buttonsArray[r][0]);var s=i(this.buttonsArray[r],3),u=s[0],l=s[1],o=s[2];if("special"===l&&void 0!==u)"CapsLock"===this.buttonsArray[r][0]&&this.specialKeys.CapsLock&&e.classList.add("active_btn"),e.innerHTML=o;else{var c=i(o,2),y=c[0],d=c[1];(t=document.createElement("div")).className="keyboard_btn_shift",t.innerHTML=d,e.appendChild(t),(a=document.createElement("div")).className="keyboard_btn_simple",a.innerHTML=y,e.appendChild(a)}n.append(e)}var f=[["ArrowLeft","special","left"],["ArrowUp","special","up"],["ArrowDown","special","down"],["ArrowRight","special","right"]],h=f[0],g=f[1],p=f[2],m=f[3],b=this.getArrowButton(h);n.append(b);var v=this.getArrowButton(g),K=this.getArrowButton(p),L=document.createElement("div");L.className="keyboard_btn_up_down",L.appendChild(v),L.appendChild(K),n.append(L);var S=this.getArrowButton(m);n.append(S)}},{key:"changeKeyboard",value:function(){var e=this;this.changeLang(),document.getElementById("keyboard").classList.add("keyboard_hide"),setTimeout((function(){document.getElementById("keyboard").classList.remove("keyboard_hide"),document.getElementById("keyboard").innerHTML="",e.switchKeyboard()}),500)}},{key:"print",value:function(e){if(this.textarea.focus(),"ShiftLeft"!==e&&"ShiftRight"!==e&&"CapsLock"!==e&&"ControlLeft"!==e&&"AltLeft"!==e&&"ControlRight"!==e&&"AltRight"!==e&&"MetaLeft"!==e){var t=0;if("Tab"===e)this.addSybmol("\t");else if("Enter"===e)this.addSybmol("\n");else if("Backspace"===e||"Delete"===e)this.removeSymbol(e);else if("ArrowRight"===e||"ArrowLeft"===e||"ArrowUp"===e||"ArrowDown"===e)this.moveCursor(e);else{this.specialKeys.CapsLock?this.specialKeys.ShiftLeft||this.specialKeys.ShiftRight||(t=1):(this.specialKeys.ShiftLeft||this.specialKeys.ShiftRight)&&(t=1);var a=this.getSymbol(e,t);a&&this.addSybmol(a)}}}},{key:"moveCursor",value:function(e){var t,a,n,r,s=this.textarea.selectionStart;switch(e){case"ArrowRight":t=1;break;case"ArrowLeft":t=-1;break;case"ArrowUp":-1===(a=this.text.substring(0,s).lastIndexOf("\n"))?t=0:n=this.text.substring(0,a).lastIndexOf("\n"),t=-(t=s-a>72?72:a-n>72?73:s-a>a-n?s-a:s-(n+(s-a)));break;case"ArrowDown":r=(s-this.text.substring(0,s).lastIndexOf("\n"))%72,-1===(a=this.text.indexOf("\n",s))?t=this.text.length-s<72?0:72:a-s>72?t=72:(-1===(n=this.text.indexOf("\n",a+1))&&(n=this.text.length),t=n-a<r?n-s:a+r-s)}var i=document.getElementById("textarea").selectionStart;i+t<0?(document.getElementById("textarea").selectionEnd=0,document.getElementById("textarea").selectionStart=0):(document.getElementById("textarea").selectionEnd=i+t,document.getElementById("textarea").selectionStart=i+t),this.textarea.focus()}},{key:"addSybmol",value:function(e){var t=document.getElementById("textarea").selectionStart,a=document.getElementById("textarea").selectionEnd;this.text=this.text.substring(0,t)+e+this.text.substring(a,this.text.length),this.textarea.innerHTML=this.text,document.getElementById("textarea").selectionEnd=t+1,document.getElementById("textarea").selectionStart=t+1}},{key:"removeSymbol",value:function(e){var t,a=document.getElementById("textarea").selectionStart,n=document.getElementById("textarea").selectionEnd,r=this.text;t=a===n?1:0,"Delete"===e?(r=r.substring(0,a)+r.substring(n+t,r.length),this.textarea.innerHTML=r,document.getElementById("textarea").selectionEnd=a,document.getElementById("textarea").selectionStart=a):(r=r.substring(0,a-t)+r.substring(n,r.length),this.textarea.innerHTML=r,document.getElementById("textarea").selectionEnd=a-t,document.getElementById("textarea").selectionStart=a-t)}},{key:"getSymbol",value:function(e,t){var a=t;"Space"===e&&(a=0);for(var n=0;n<this.buttonsArray.length;n+=1)if(this.buttonsArray[n][0]===e)return this.buttonsArray[n][2][a];return null}}])&&l(t.prototype,a),n&&l(t,n),e}();(new r).render();var c=new o;function y(e){"ShiftLeft"!==e&&"ShiftRight"!==e&&"ControlLeft"!==e&&"AltLeft"!==e&&"ControlRight"!==e&&"AltRight"!==e&&"MetaLeft"!==e||(c.specialKeys[e]=!0)}function d(e){document.getElementsByClassName("keyboard_btn_".concat(e))[0]&&document.getElementsByClassName("keyboard_btn_".concat(e))[0].classList.add("active_btn")}function f(e){document.getElementsByClassName("keyboard_btn_".concat(e))[0]&&document.getElementsByClassName("keyboard_btn_".concat(e))[0].classList.remove("active_btn")}function h(e){"ShiftLeft"!==e&&"ShiftRight"!==e||!0!==c.specialKeys.AltLeft&&!0!==c.specialKeys.AltRight||(c.toChangeKeyboard=!0)}function g(e){var t=e.code;y(t),"CapsLock"!==t?(y(t),d(t),c.print(t),e.preventDefault()):function(e){!1===c.specialKeys[e]?(c.specialKeys[e]=!0,d(e)):(c.specialKeys[e]=!1,f(e))}(t),h(t)}function p(){if(!0===c.toChangeKeyboard){c.toChangeKeyboard=!1;for(var e=Object.keys(c.specialKeys),t=0;t<e.length;t+=1)"CapsLock"!==e[t]&&(c.specialKeys[e[t]]=!1);return c.changeKeyboard(),!0}return!1}function m(e){if(!e.target.classList.contains("keyboard")){var t=(e.target.classList.contains("keyboard_btn")?e.target:e.target.parentNode).getAttribute("id");!function(e){"ShiftLeft"!==e&&"ShiftRight"!==e&&"CapsLock"!==e&&"ControlLeft"!==e&&"AltLeft"!==e&&"ControlRight"!==e&&"AltRight"!==e&&"MetaLeft"!==e||(c.specialKeys[e]?c.specialKeys[e]=!1:c.specialKeys[e]=!0)}(t),function(e){!0===c.specialKeys[e]?d(e):f(e)}(t),h(t),p(),c.print(t)}}function b(e){var t=e.code;!function(e){"ShiftLeft"!==e&&"ShiftRight"!==e&&"ControlLeft"!==e&&"AltLeft"!==e&&"ControlRight"!==e&&"AltRight"!==e&&"MetaLeft"!==e||(c.specialKeys[e]=!1)}(t),f(t),p(),e.preventDefault()}c.switchKeyboard(),document.addEventListener("keydown",g),document.addEventListener("keyup",b),document.getElementById("keyboard").addEventListener("mouseup",m)}]);